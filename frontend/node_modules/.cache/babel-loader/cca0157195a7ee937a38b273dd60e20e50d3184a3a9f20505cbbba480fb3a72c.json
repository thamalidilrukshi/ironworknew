{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/iron iron/iron_work/simply-clone/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import Logout from\"./Logout\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Loging=()=>{const[formData,setFormData]=useState({email:\"\",password:\"\"});const[error,setError]=useState(\"\");const[successMessage,setSuccessMessage]=useState(\"\");const navigate=useNavigate();// Redirect to AdminPanel if already logged in\nuseEffect(()=>{const token=localStorage.getItem(\"token\");if(token){navigate(\"/AdminPanel\");}},[navigate]);const handleChange=e=>{const{name,value}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:value}));};const handleLogin=async e=>{e.preventDefault();setError(\"\");setSuccessMessage(\"\");try{const response=await axios.post(\"http://localhost:3001/Login\",formData);const{token}=response.data;if(!token){throw new Error(\"No token received from the server\");}localStorage.setItem(\"token\",token);setSuccessMessage(\"Login successful! Redirecting...\");setTimeout(()=>{navigate(\"/AdminPanel\");},2000);}catch(err){console.error(\"Login Error:\",err);if(err.response){setError(err.response.data.error||\"Invalid email or password\");}else if(err.message===\"No token received from the server\"){setError(\"Login failed. Please try again.\");}else{setError(\"An error occurred. Please try again.\");}}};const formStyles={container:{width:\"100%\",maxWidth:\"400px\",margin:\"50px auto\",padding:\"20px\",border:\"1px solid #ccc\",borderRadius:\"10px\",backgroundColor:\"#f9f9f9\",boxShadow:\"0 2px 5px rgba(0, 0, 0, 0.1)\"},heading:{textAlign:\"center\",marginBottom:\"20px\",color:\"#333\"},label:{display:\"block\",marginBottom:\"5px\",color:\"#555\"},input:{width:\"100%\",padding:\"10px\",marginBottom:\"15px\",borderRadius:\"5px\",border:\"1px solid #ccc\",fontSize:\"16px\"},button:{width:\"100%\",padding:\"10px\",backgroundColor:\"#00bcd4\",color:\"white\",fontSize:\"16px\",border:\"none\",borderRadius:\"5px\",cursor:\"pointer\"},alert:{padding:\"10px\",marginBottom:\"15px\",borderRadius:\"5px\",color:\"#fff\",fontWeight:\"bold\",textAlign:\"center\"},successAlert:{backgroundColor:\"#4CAF50\"},errorAlert:{backgroundColor:\"#f44336\"}};return/*#__PURE__*/_jsxs(\"div\",{style:formStyles.container,children:[/*#__PURE__*/_jsx(\"h2\",{style:formStyles.heading,children:\"Login\"}),successMessage&&/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},formStyles.alert),formStyles.successAlert),children:successMessage}),error&&/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},formStyles.alert),formStyles.errorAlert),children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"label\",{style:formStyles.label,htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{style:formStyles.input,type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{style:formStyles.label,htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{style:formStyles.input,type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{style:formStyles.button,type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsx(Logout,{})]});};export default Loging;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","Logout","jsx","_jsx","jsxs","_jsxs","Loging","formData","setFormData","email","password","error","setError","successMessage","setSuccessMessage","navigate","token","localStorage","getItem","handleChange","e","name","value","target","_objectSpread","handleLogin","preventDefault","response","post","data","Error","setItem","setTimeout","err","console","message","formStyles","container","width","maxWidth","margin","padding","border","borderRadius","backgroundColor","boxShadow","heading","textAlign","marginBottom","color","label","display","input","fontSize","button","cursor","alert","fontWeight","successAlert","errorAlert","style","children","onSubmit","htmlFor","type","onChange","required"],"sources":["C:/xampp/htdocs/iron iron/iron_work/simply-clone/frontend/src/components/Loging.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Logout from \"./Logout\";\r\n\r\nconst Loging = () => {\r\n  const [formData, setFormData] = useState({ email: \"\", password: \"\" });\r\n  const [error, setError] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  // Redirect to AdminPanel if already logged in\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      navigate(\"/AdminPanel\");\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccessMessage(\"\");\r\n\r\n    try {\r\n      const response = await axios.post(\"http://localhost:3001/Login\", formData);\r\n      const { token } = response.data;\r\n\r\n      if (!token) {\r\n        throw new Error(\"No token received from the server\");\r\n      }\r\n\r\n      localStorage.setItem(\"token\", token);\r\n      setSuccessMessage(\"Login successful! Redirecting...\");\r\n\r\n      setTimeout(() => {\r\n        navigate(\"/AdminPanel\");\r\n      }, 2000);\r\n    } catch (err) {\r\n      console.error(\"Login Error:\", err);\r\n      if (err.response) {\r\n        setError(err.response.data.error || \"Invalid email or password\");\r\n      } else if (err.message === \"No token received from the server\") {\r\n        setError(\"Login failed. Please try again.\");\r\n      } else {\r\n        setError(\"An error occurred. Please try again.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const formStyles = {\r\n    container: {\r\n      width: \"100%\",\r\n      maxWidth: \"400px\",\r\n      margin: \"50px auto\",\r\n      padding: \"20px\",\r\n      border: \"1px solid #ccc\",\r\n      borderRadius: \"10px\",\r\n      backgroundColor: \"#f9f9f9\",\r\n      boxShadow: \"0 2px 5px rgba(0, 0, 0, 0.1)\",\r\n    },\r\n    heading: {\r\n      textAlign: \"center\",\r\n      marginBottom: \"20px\",\r\n      color: \"#333\",\r\n    },\r\n    label: {\r\n      display: \"block\",\r\n      marginBottom: \"5px\",\r\n      color: \"#555\",\r\n    },\r\n    input: {\r\n      width: \"100%\",\r\n      padding: \"10px\",\r\n      marginBottom: \"15px\",\r\n      borderRadius: \"5px\",\r\n      border: \"1px solid #ccc\",\r\n      fontSize: \"16px\",\r\n    },\r\n    button: {\r\n      width: \"100%\",\r\n      padding: \"10px\",\r\n      backgroundColor: \"#00bcd4\",\r\n      color: \"white\",\r\n      fontSize: \"16px\",\r\n      border: \"none\",\r\n      borderRadius: \"5px\",\r\n      cursor: \"pointer\",\r\n    },\r\n    alert: {\r\n      padding: \"10px\",\r\n      marginBottom: \"15px\",\r\n      borderRadius: \"5px\",\r\n      color: \"#fff\",\r\n      fontWeight: \"bold\",\r\n      textAlign: \"center\",\r\n    },\r\n    successAlert: {\r\n      backgroundColor: \"#4CAF50\",\r\n    },\r\n    errorAlert: {\r\n      backgroundColor: \"#f44336\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={formStyles.container}>\r\n      <h2 style={formStyles.heading}>Login</h2>\r\n\r\n      {successMessage && (\r\n        <div style={{ ...formStyles.alert, ...formStyles.successAlert }}>\r\n          {successMessage}\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div style={{ ...formStyles.alert, ...formStyles.errorAlert }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <form onSubmit={handleLogin}>\r\n        <label style={formStyles.label} htmlFor=\"email\">\r\n          Email\r\n        </label>\r\n        <input\r\n          style={formStyles.input}\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={formData.email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <label style={formStyles.label} htmlFor=\"password\">\r\n          Password\r\n        </label>\r\n        <input\r\n          style={formStyles.input}\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={formData.password}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <button style={formStyles.button} type=\"submit\">\r\n          Login\r\n        </button>\r\n      </form>\r\n\r\n      <Logout />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loging;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}